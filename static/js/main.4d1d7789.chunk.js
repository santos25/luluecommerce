(this.webpackJsonpluluecommerce=this.webpackJsonpluluecommerce||[]).push([[0],{120:function(e,a,t){e.exports=t(162)},138:function(e,a,t){},139:function(e,a,t){},155:function(e,a,t){},156:function(e,a,t){},161:function(e,a,t){},162:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(14),l=t.n(c),o=t(11),i=t(100),s=t(38),m=t(82),u=t(101),d=t(102),p=t.n(d),f=t(103),E=t.n(f),g=t(7),b="SET_CURRENT_USER",h={currentUser:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case b:return Object(g.a)({},e,{currentUser:a.payload});default:return e}},C={TOGGLE_CART:"TOGGLE_CART",ADDITEMS_TO_CART:"ADDITEMS_TO_CART",CLEAR_ITEM:"CLEAR_ITEM",REMOVE_ITEM:"REMOVE_ITEM"},v=t(27),y=function(e,a){var t=e.find((function(e){return e.id===a.id}));return t?e.map((function(e){return e.id===t.id?Object(g.a)({},e,{quantity:e.quantity+1}):e})):[].concat(Object(v.a)(e),[Object(g.a)({},a,{quantity:1})])},j=function(e,a){return 1===a.quantity?e.filter((function(e){return e.id!==a.id})):e.map((function(e){return e.id===a.id?Object(g.a)({},e,{quantity:e.quantity-1}):e}))},x={hidden:!0,cartitems:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case C.TOGGLE_CART:return Object(g.a)({},e,{hidden:!e.hidden});case C.ADDITEMS_TO_CART:return Object(g.a)({},e,{cartitems:y(e.cartitems,a.payload)});case C.CLEAR_ITEM:return Object(g.a)({},e,{cartitems:e.cartitems.filter((function(e){return e.id!==a.payload.id}))});case C.REMOVE_ITEM:return Object(g.a)({},e,{cartitems:j(e.cartitems,a.payload)});default:return e}},N={LOAD_CATEGORY_CLOTHES:"LOAD_CATEGORY_CLOTHES",LOAD_NEW_COLLECTION:"LOAD_NEW_COLLECTION"},I={DirectoryData:"",newCollection:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N.LOAD_CATEGORY_CLOTHES:return Object(g.a)({},e,{DirectoryData:a.payload});case N.LOAD_NEW_COLLECTION:return Object(g.a)({},e,{newCollection:a.payload});default:return e}},T={FETCHING_COLLECIONS_START:"FETCHING_COLLECION_START",FETCHING_COLLECTIONS_SUCCESS:"FETCHING_COLLECTIONS_SUCCESS",FETCHING_COLLECTIONS_FAILED:"FETCHING_COLLECTIONS_FAILED"},k={dataShop:[],isFetching:!0,errorMessage:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T.FETCHING_COLLECIONS_START:return Object(g.a)({},e,{isFetching:!0});case T.FETCHING_COLLECTIONS_SUCCESS:return Object(g.a)({},e,{isFetching:!1,dataShop:a.payload});case T.FETCHING_COLLECTIONS_FAILED:return Object(g.a)({},e,{errorMessage:a.payload});default:return e}},L={FETCHING_PRODUCTS_START:"FETCHING_PRODUCTS_START",FETCHING_PRODUCTS_SUCCESS:"FETCHING_PRODUCTS_SUCCESS",FETCHING_PRODUCTS_FAILED:"FETCHING_PRODUCTS_FAILED",UPLOADING_PRODUCTS_START:"UPLOADING_PRODUCTS_START",UPLOADING_PRODUCTS_SUCCESS:"UPLOADING_PRODUCTS_SUCCESS",UPLOADING_PRODUCTS_FAILED:"UPLOADING_PRODUCTS_FAILED"},D={isFetching:!0,isUploading:!1,errorUpload:"",products:[]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case L.FETCHING_PRODUCTS_START:return Object(g.a)({},e,{isFetching:!0});case L.FETCHING_PRODUCTS_SUCCESS:return Object(g.a)({},e,{isFetching:!1,products:a.payload});case L.UPLOADING_PRODUCTS_START:return Object(g.a)({},e,{isUploading:!0});case L.UPLOADING_PRODUCTS_FAILED:return Object(g.a)({},e,{errorUpload:a.payload});case L.UPLOADING_PRODUCTS_SUCCESS:return Object(g.a)({},e,{isUploading:!1});default:return e}},A={key:"root",storage:E.a,whitelist:["cart"]},U=Object(s.c)({user:O,cart:w,directory:S,shop:_,admin:R}),P=Object(m.a)(A,U),W=[p.a,u.a],G=Object(s.d)(P,s.a.apply(void 0,W)),F=Object(m.b)(G),H=t(19),M=t.n(H),q=t(26),z=t(16),V=t(53),B=t.n(V);t(132),t(135),t(163);B.a.initializeApp({apiKey:"AIzaSyDE4m7rjsqUnslU7o8_YMNuJuJ9E5vIEYQ",authDomain:"lulustore-ed754.firebaseapp.com",databaseURL:"https://lulustore-ed754.firebaseio.com",projectId:"lulustore-ed754",storageBucket:"lulustore-ed754.appspot.com",messagingSenderId:"326764885111",appId:"1:326764885111:web:ad153d1ecd517772e94272",measurementId:"G-V0SETSRG6J"});var Q=B.a.auth(),Y=B.a.firestore(),J=B.a.storage(),$=new B.a.auth.GoogleAuthProvider,Z=function(){return Q.signInWithPopup($).then().catch((function(e){console.log(e)}))},K=function(){var e=Object(q.a)(M.a.mark((function e(a,t){var n,r,c,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return console.log(a.id),n=Y.doc("users/".concat(a.uid)),e.next=6,n.get();case 6:if(e.sent.exists){e.next=12;break}return r=a.displayName,c=a.email,l=new Date,e.next=12,n.set(Object(g.a)({displayName:r,email:c,date:l},t));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),X=function(){var e=Object(q.a)(M.a.mark((function e(a,t,n){var r,c,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,a.data().categories.hasOwnProperty(t.category)&&(r=Object.keys(a.data().categories[t.category]).length),c={},console.log(n),n.forEach((function(e,a){c["item_".concat(r)]=Object(g.a)({},e,{createdt:new Date}),r++})),e.next=7,a.ref.set({categories:Object(z.a)({},t.category.toLowerCase(),c)},{merge:!0});case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(q.a)(M.a.mark((function e(a,t,n){var r,c,l,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),e.prev=1,r=a.map((function(e){return e.image.map((function(a){var r=J.ref("images-lulu/".concat(n,"/").concat(t,"/").concat(e.name)).child(a.name).put(a);return r.on(B.a.storage.TaskEvent.STATE_CHANGED,(function(e){var a=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+a+"% done")}),(function(e){return console.log(e)})),r}))})),console.log(r),c=0;case 5:if(!(c<r.length)){e.next=16;break}return e.next=8,Promise.all(r[c]);case 8:return l=e.sent,e.next=11,Promise.all(l.map((function(e){return e.ref.getDownloadURL()})));case 11:o=e.sent,a[c].image=o;case 13:c++,e.next=5;break;case 16:return e.abrupt("return",Object(v.a)(a));case 19:e.prev=19,e.t0=e.catch(1),console.log("Error Uploading Images ",e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(a,t,n){return e.apply(this,arguments)}}(),ae=function(e,a,t,n){console.log(n),e.update(Object(z.a)({},"categories.".concat(a,".").concat(t),n))},te=function(e,a,t){e.update(Object(z.a)({},"categories.".concat(a,".").concat(t),B.a.firestore.FieldValue.delete()))},ne=t(17),re=Object(ne.a)([function(e){return e.user}],(function(e){return e.currentUser})),ce=t(15),le=t(2),oe=t(21),ie=t(201),se=t(195),me=t(197),ue=t(199),de=t(200),pe=t(202),fe=t(203),Ee=Object(se.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:200,width:"calc(100% - ".concat(200,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},link:{flexGrow:1}}})),ge=Object(o.b)((function(e){return{currentUser:re(e)}}))((function(e){var a=e.currentUser,t=e.open,n=e.handleDrawerOpen,c=Ee();return r.a.createElement(me.a,{position:"fixed",color:"default",className:Object(le.a)(c.appBar,Object(z.a)({},c.appBarShift,t))},r.a.createElement(ue.a,null,r.a.createElement(de.a,{color:"inherit","aria-label":"open drawer",onClick:n,edge:"start",className:Object(le.a)(c.menuButton,Object(z.a)({},c.hide,t))},r.a.createElement(ie.a,null)),r.a.createElement(pe.a,{className:c.link,component:oe.b,to:"/"}," LULU"),a?r.a.createElement(fe.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return Q.signOut()}},"Cerrar Sesion"):r.a.createElement(pe.a,{component:oe.b,to:"/signin"}," Iniciar Sesion")))})),be=function(){return{type:L.UPLOADING_PRODUCTS_START}},he=function(){return{type:L.UPLOADING_PRODUCTS_SUCCESS}},Oe=function(){return function(e){e({type:L.FETCHING_PRODUCTS_START}),Y.collection("collections").get().then((function(a){var t=a.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));e({type:L.FETCHING_PRODUCTS_SUCCESS,payload:t})}))}},Ce=function(e){return e.admin},ve=Object(ne.a)([Ce],(function(e){console.log(e.products);var a=[];return e.products.forEach((function(e,t){Object.keys(e.categories).forEach((function(t){Object.keys(e.categories[t]).forEach((function(n){a.push(Object(g.a)({},e.categories[t][n],{id:e.id,genre:e.genre,itemkey:n,category:t}))}))}))})),a})),ye=Object(ne.a)([Ce],(function(e){return e.isFetching})),je=Object(ne.a)([Ce],(function(e){return e.isUploading})),xe=t(212),we=t(32),Ne=t(204),Ie=t(205),Se=t(57),Te=t(206),ke=t(207),_e=t(254),Le=t(252),De=t(211),Re=t(256),Ae=t(251),Ue=t(257),Pe=t(208),We=t(213),Ge=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}},input:{display:"none"},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Fe={PaperProps:{style:{maxHeight:224,width:250}}};function He(e,a,t){return{fontWeight:-1===a.indexOf(e)?t.typography.fontWeightRegular:t.typography.fontWeightMedium}}var Me=Object(o.b)((function(e){return{isUploading:je(e)}}),(function(e){return{uploadStart:function(){return e(be())},uploadSuccess:function(){return e(he())}}}))((function(e){var a=e.uploadStart,t=e.uploadSuccess,c=e.isUploading,l=e.handleClose,o=Ge(),i=Object(we.a)(),s=Object(n.useState)({brand:"",category:"",genre:"",itemsQuantity:1}),m=Object(ce.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)([{image:[],name:"",price:0,detail:"",tallas:[]}]),f=Object(ce.a)(p,2),E=f[0],b=f[1],h=Object(n.useState)([{chips:[]}]),O=Object(ce.a)(h,2),C=O[0],y=O[1],j=Object(n.useState)([]),x=Object(ce.a)(j,2),w=x[0],N=x[1],I=Object(n.useState)([]),S=Object(ce.a)(I,2),T=S[0],k=S[1];Object(n.useEffect)((function(){}),[]);var _=function(e){var a=e.target,t=a.name,n=a.value;if("itemsQuantity"===t){E=[],C=[];for(var r=0;r<n;r++)E.push({id:r,image:[],name:"",price:0,detail:"",tallas:[]}),C.push({chips:[]});b(Object(v.a)(E)),y(Object(v.a)(C))}else d(Object(g.a)({},u,Object(z.a)({},t,n)))},L=function(e,a){var t=e.target,n=t.name,r=t.value,c=Object(g.a)({},E[a]),l=Object(g.a)({},C[a]);if("image"===n){if(console.log(e.target.files),e.target.files.length>0){for(var o=0;o<e.target.files.length;o++)c.image.push(e.target.files[o]),l.chips.push(e.target.files[o].name);E[a]=c,C[a]=l,b(Object(v.a)(E)),y(Object(v.a)(C))}}else c[n]=r,E[a]=c,b(Object(v.a)(E));console.log({itemschips:C})},D=function(){var e=Object(q.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a(),console.log({product:u}),console.log({items:E}),Y.collection("collections").where("genre","==",u.genre).where("brand","==",u.brand).get().then((function(e){e.docs.forEach(function(){var e=Object(q.a)(M.a.mark((function e(a){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.exists){e.next=13;break}return e.next=3,ee(E,u.category,u.genre);case 3:return n=e.sent,console.log(n),e.next=7,X(a,u,n);case 7:r=e.sent,console.log(r),t(),l(),e.next=14;break;case 13:console.log("No Brand || No Genre");case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Ne.a,{component:"main",maxWidth:"sm"},r.a.createElement(Ie.a,null),r.a.createElement("div",{className:o.paper},r.a.createElement(Se.a,{component:"h1",variant:"h5"},"Registro de Productos"),r.a.createElement("form",{className:o.form,noValidate:!0},r.a.createElement(Te.a,{container:!0,spacing:2},r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(ke.a,{fullWidth:!0},r.a.createElement(_e.a,{id:"select-genre"}," Genero"),r.a.createElement(Le.a,{labelId:"select-genre",id:"genre",value:u.genre,name:"genre",onChange:function(e){var a=e.target,t=a.name,n=a.value;Y.collection("genre").doc(n).get().then((function(e){var a=e.data().prendas,t=Object.keys(a).map((function(e){return{name:a[e].name,talla:a[e].talla}}));console.log(t),N(t)})),d(Object(g.a)({},u,Object(z.a)({},t,n)))}},r.a.createElement(De.a,{value:"hombre"},"Hombre"),r.a.createElement(De.a,{value:"mujer"},"Mujer")))),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(ke.a,{fullWidth:!0},r.a.createElement(_e.a,{id:"select-category"}," Cateogria"),r.a.createElement(Le.a,{labelId:"select-category",id:"category",value:u.category,name:"category",onChange:function(e){var a=e.target,t=a.name,n=a.value,r=w.find((function(e){return e.name.toLowerCase()===n}));console.log(r),k(r.talla),d(Object(g.a)({},u,Object(z.a)({},t,n)))}},w.map((function(e,a){return r.a.createElement(De.a,{key:a,value:e.name.toLowerCase()},e.name)}))))),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(Re.a,{onChange:_,name:"brand",variant:"outlined",required:!0,fullWidth:!0,id:"brand",label:"Tienda",value:u.brand})),r.a.createElement(Te.a,{item:!0,xs:12,sm:6},r.a.createElement(Se.a,{component:"h3",variant:"h5"},"Items")),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(Re.a,{onChange:_,variant:"outlined",required:!0,fullWidth:!0,defaultValue:u.itemsQuantity,id:"itemsQuantity",label:"Cantidad",name:"itemsQuantity"})))))),r.a.createElement(Ne.a,{component:"main",maxWidth:"lg"},r.a.createElement("div",{className:o.paper},E.map((function(e,a){return r.a.createElement(Te.a,{key:a,container:!0,spacing:2},r.a.createElement(Te.a,{item:!0,xs:12,sm:2},r.a.createElement(Re.a,{onChange:function(e){return L(e,a)},variant:"outlined",required:!0,fullWidth:!0,id:"name_".concat(a),label:"Nombre",name:"name"})),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(Re.a,{onChange:function(e){return L(e,a)},variant:"outlined",required:!0,fullWidth:!0,id:"detail_".concat(a),label:"Descripcion",name:"detail"})),r.a.createElement(Te.a,{item:!0,xs:12,sm:2},r.a.createElement(Ae.a,null,r.a.createElement("input",{accept:"image/*",className:o.input,id:"contained-button-file_".concat(a),onChange:function(e){return L(e,a)},name:"image",type:"file",multiple:!0}),r.a.createElement("label",{htmlFor:"contained-button-file_".concat(a)},r.a.createElement(fe.a,{variant:"outlined",size:"small",color:"primary",startIcon:r.a.createElement(xe.a,null),component:"span"},"Imagenes")),r.a.createElement(Ae.a,{display:"flex",flexWrap:"wrap"},C[a].chips.map((function(e,a){return r.a.createElement(Ue.a,{size:"small",key:a,label:e,onDelete:function(e){console.log("deleting")}})}))))),r.a.createElement(Te.a,{item:!0,xs:12,sm:2},r.a.createElement(ke.a,{className:o.formControl},r.a.createElement(_e.a,{id:"select-talla_".concat(a)},"Talla"),r.a.createElement(Le.a,{labelId:"select-talla_".concat(a),id:"tallas_".concat(a),name:"tallas",multiple:!0,value:e.tallas,onChange:function(e){return L(e,a)},input:r.a.createElement(Pe.a,{id:"select-talla_".concat(a)}),renderValue:function(e){return r.a.createElement("div",{className:o.chips},e.map((function(e){return r.a.createElement(Ue.a,{size:"small",key:e,label:e,className:o.chip})})))},MenuProps:Fe},T.map((function(e){return r.a.createElement(De.a,{key:e,value:e,style:He(e,e,i)},e)}))))),r.a.createElement(Te.a,{item:!0,xs:12,sm:2},r.a.createElement(Re.a,{onChange:function(e){return L(e,a)},variant:"outlined",required:!0,fullWidth:!0,id:"price_".concat(a),label:"Precio",name:"price"})))})),c?r.a.createElement("div",{className:o.root},r.a.createElement(We.a,null)):null,r.a.createElement(fe.a,{onClick:D,variant:"contained",color:"primary",className:o.submit},"Registrar Productos"))))})),qe=t(214),ze=t(215),Ve=t(216),Be=t(217),Qe=Object(se.a)((function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120}}})),Ye=function(e){var a=e.open,t=e.handleClose;Qe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{fullWidth:!0,maxWidth:"md",open:a,onClose:t,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(ze.a,{id:"max-width-dialog-title"},"Agregar Productos"),r.a.createElement(Ve.a,null,r.a.createElement(Me,{handleClose:t})),r.a.createElement(Be.a,null,r.a.createElement(fe.a,{onClick:t,variant:"contained",color:"primary"},"Cerrar"))))},Je=t(218),$e=t(219),Ze=t(220),Ke=t(221),Xe=Object(se.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},circleprogress:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},icon:{color:"rgba(255, 255, 255, 0.54)"},gridList:{width:500,height:"auto"},input:{display:"none"}}})),ea={PaperProps:{style:{maxHeight:224,width:250}}};function aa(e,a,t){return{fontWeight:-1===a.indexOf(e)?t.typography.fontWeightRegular:t.typography.fontWeightMedium}}var ta=Object(o.b)((function(e){return{isUploading:je(e)}}),(function(e){return{updateStart:function(){return e(be())},updateSuccess:function(){return e(he())}}}))((function(e){var a=e.selectedItem,t=e.handleClose,c=e.isUploading,l=e.updateStart,o=e.updateSuccess,i=Xe(),s=a.name,m=a.price,u=a.detail,d=a.createdt,p=a.tallas,f=a.image,E=Object(we.a)(),b=Object(n.useState)({name:"",price:"",detail:"",tallas:[],image:[],createdt:""}),h=Object(ce.a)(b,2),O=h[0],C=h[1],y=Object(n.useState)([]),j=Object(ce.a)(y,2),x=j[0],w=j[1],N=Object(n.useRef)([]);Object(n.useEffect)((function(){C(Object(g.a)({},a))}),[]);var I=function(e){var a=e.target,t=a.name,n=a.value;if(console.log(t),console.log(n),"image"===t){if(e.target.files.length>0){for(var r=0;r<e.target.files.length;r++)N.current.push(e.target.files[r]),x.push(e.target.files[r].name);w(Object(v.a)(x))}}else C(Object(g.a)({},O,Object(z.a)({},t,n)))},S=function(){var e=Object(q.a)(M.a.mark((function e(){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),n=Y.collection("collections").doc(a.id),console.log(N),e.prev=3,e.next=6,ee([{image:N.current}],O.category);case 6:r=e.sent,f.push.apply(f,Object(v.a)(r[0].image)),console.log({image:f}),ae(n,O.category,O.itemkey,{name:s,detail:u,image:f,price:m,tallas:p,createdt:d}),o(),t(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return console.log({isUploading:c}),r.a.createElement(Te.a,{spacing:2,container:!0},r.a.createElement(Te.a,{xs:12,sm:2,item:!0},r.a.createElement(Re.a,{id:"name",name:"name",label:"Nombre",onChange:I,defaultValue:s})),r.a.createElement(Te.a,{xs:12,sm:4,item:!0},r.a.createElement(Re.a,{id:"detail",name:"detail",label:"Detail",fullWidth:!0,onChange:I,defaultValue:u})),r.a.createElement(Te.a,{xs:12,sm:2,item:!0},r.a.createElement(Re.a,{id:"price",name:"price",label:"price",onChange:I,defaultValue:m})),r.a.createElement(Te.a,{xs:12,sm:4,item:!0},r.a.createElement(ke.a,{className:i.formControl},r.a.createElement(_e.a,{id:"select-talla"},"Tallas"),r.a.createElement(Le.a,{labelId:"select-talla",id:"tallas",name:"tallas",multiple:!0,value:O.tallas,onChange:function(e){return I(e)},input:r.a.createElement(Pe.a,{id:"select-talla"}),renderValue:function(e){return r.a.createElement("div",{className:i.chips},e.map((function(e){return r.a.createElement(Ue.a,{size:"small",key:e,label:e,className:i.chip})})))},MenuProps:ea},p.map((function(e){return r.a.createElement(De.a,{key:e,value:e,style:aa(e,e,E)},e)}))))),r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(Ae.a,{className:i.root},r.a.createElement(Je.a,{cellHeight:160,className:i.gridList,cols:2},O.image.map((function(e,a){return r.a.createElement($e.a,{key:a,cols:1},r.a.createElement("img",{src:e,alt:""}),r.a.createElement(Ze.a,{title:"",subtitle:"",actionIcon:r.a.createElement(de.a,{onClick:function(e){return function(e,a){console.log(O),console.log(a),O.image.splice(a,1),C(Object(g.a)({},O))}(0,a)},"aria-label":"delete image",className:i.icon},r.a.createElement(Ke.a,null))}))}))))),r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(Ae.a,null,r.a.createElement("input",{accept:"image/*",className:i.input,id:"contained-button-file",onChange:function(e){return I(e)},name:"image",type:"file",multiple:!0}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(fe.a,{variant:"outlined",size:"small",color:"primary",startIcon:r.a.createElement(xe.a,null),component:"span"},"Imagen")),r.a.createElement(Ae.a,{display:"flex",flexWrap:"wrap"},x.map((function(e,a){return r.a.createElement(Ue.a,{size:"small",key:a,label:e})}))))),c?r.a.createElement("div",{className:i.circleprogress},r.a.createElement(We.a,null)):null,r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(fe.a,{onClick:S,variant:"contained",color:"primary",size:"small"},"Guardar Cambios")))})),na=Object(se.a)((function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120}}})),ra=function(e){var a=e.open,t=e.item,n=e.handleClose;na();return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{fullWidth:!0,maxWidth:"md",open:a,onClose:n,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(ze.a,{id:"max-width-dialog-title"},"Editar Producto"),r.a.createElement(Ve.a,null,r.a.createElement(ta,{selectedItem:t,handleClose:n})),r.a.createElement(Be.a,null,r.a.createElement(fe.a,{onClick:n,variant:"contained",color:"primary"},"Cerrar"))))},ca=t(223),la=t(91),oa=t(224),ia=t(225),sa=t(226),ma=t(227),ua=t(228),da=t(258),pa=t(222),fa=t(229),Ea=Object(se.a)((function(e){return{large:{width:e.spacing(8),height:e.spacing(8)},table:{minWidth:650}}})),ga=function(e){var a=e.products,t=Ea();console.log(a);var c=Object(n.useState)(!1),l=Object(ce.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)({open:!1,item:{}}),m=Object(ce.a)(s,2),u=m[0],d=m[1],p=function(){i(!o)};return r.a.createElement("div",null,o&&r.a.createElement(Ye,{open:o,handleClose:p}),u.open&&r.a.createElement(ra,{open:u.open,item:u.item,handleClose:function(){d({open:!1,item:{}})}}),r.a.createElement(Ae.a,{display:"flex",justifyContent:"center"},r.a.createElement(Se.a,{component:"h4"}," Listado de Productos en Stock")),r.a.createElement(Te.a,{container:!0},r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(fe.a,{onClick:p,size:"small",variant:"contained",color:"primary",className:t.button,endIcon:r.a.createElement(pa.a,null)},"Agregar"))),r.a.createElement(Te.a,{container:!0},r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(ca.a,{component:la.a},r.a.createElement(oa.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ma.a,null,"IMAGEN"),r.a.createElement(ma.a,{align:"right"},"NOMBRE"),r.a.createElement(ma.a,{align:"right"},"PRECIO"),r.a.createElement(ma.a,{align:"right"},"CATEGORIA"),r.a.createElement(ma.a,{align:"right"},"FECHA CREACION"),r.a.createElement(ma.a,{align:"right"},"ACCIONES"))),r.a.createElement(ua.a,null,a.map((function(e,a){return r.a.createElement(sa.a,{key:a},r.a.createElement(ma.a,{component:"th",scope:"row"},r.a.createElement(da.a,{className:t.large,alt:e.name,src:e.image[0]})),r.a.createElement(ma.a,{align:"right"},e.name),r.a.createElement(ma.a,{align:"right"},"$".concat(e.price)),r.a.createElement(ma.a,{align:"right"},e.category),r.a.createElement(ma.a,{align:"right"},"Working on this cell"),r.a.createElement(ma.a,null,r.a.createElement(Ae.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(de.a,{"aria-label":"edit",onClick:function(){return a=e,console.log(a),void d({open:!0,item:a});var a}},r.a.createElement(fa.a,null)),r.a.createElement(de.a,{"aria-label":"delete",onClick:function(){return function(e){console.log(e);var a=Y.collection("collections").doc(e.id);te(a,e.category,e.itemkey)}(e)}},r.a.createElement(Ke.a,null)))))}))))))))},ba=t(107),ha=function(e){return function(a){var t=a.isLoading,n=Object(ba.a)(a,["isLoading"]);return t?r.a.createElement("div",{className:""},r.a.createElement(We.a,null)):r.a.createElement(e,n)}},Oa=ha(ga),Ca=Object(o.b)((function(e){return{products:ve(e),isFetchingProducts:ye(e)}}),(function(e){return{fetchProductsAsync:function(){return e(Oe())},removeItem:function(a,t){return e(function(e,a){var t=e.idcollection,n=e.productoid;return function(e){var r=Y.collection("collections").doc(t).collection("productos").doc(n);r.get().then(function(){var t=Object(q.a)(M.a.mark((function t(n){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n.exists),n.exists?(te(r,n.data().items,a),e(Oe())):console.log("no exist document");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}(a,t))}}}))((function(e){var a=e.fetchProductsAsync,t=e.products,c=e.isFetchingProducts,l=e.removeItem,o=Object(n.useState)("home"),i=Object(ce.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(null),d=Object(ce.a)(u,2),p=d[0],f=d[1];console.log(t),Object(n.useEffect)((function(){console.log("fetching Products"),a()}),[a]);var E=function(e,a){console.log(e),f(e),m(a)};return r.a.createElement("div",null,"home"===s?r.a.createElement(Ae.a,null,r.a.createElement(Oa,{isLoading:c,products:t,handleCurrentPage:E,handleRemoveItems:function(e,a){console.log(a),l(e,a)}})):r.a.createElement(Me,{productEdit:p,handleCurrentPage:E,backStep:function(){return m("home")}}))})),va=t(259),ya=t(232),ja=t(210),xa=t(165),wa=t(233),Na=t(235),Ia=t(230),Sa=t(231),Ta=t(234),ka=t(23),_a=Object(se.a)((function(e){return{root:{display:"flex"},drawer:{width:200,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:200,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(z.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),La=function(){var e,a,t=_a(),c=Object(we.a)(),l=Object(n.useState)(!0),o=Object(ce.a)(l,2),i=o[0],s=o[1];return r.a.createElement(oe.a,{basename:"/luluecommerce"},r.a.createElement("div",{className:t.root},r.a.createElement(Ie.a,null),r.a.createElement(ge,{open:i,handleDrawerOpen:function(){s(!0)}}),r.a.createElement(va.a,{variant:"permanent",className:Object(le.a)(t.drawer,(e={},Object(z.a)(e,t.drawerOpen,i),Object(z.a)(e,t.drawerClose,!i),e)),classes:{paper:Object(le.a)((a={},Object(z.a)(a,t.drawerOpen,i),Object(z.a)(a,t.drawerClose,!i),a))}},r.a.createElement("div",{className:t.toolbar},r.a.createElement(de.a,{onClick:function(){s(!1)}},"rtl"===c.direction?r.a.createElement(Ia.a,null):r.a.createElement(Sa.a,null))),r.a.createElement(ya.a,null),r.a.createElement(ja.a,null,r.a.createElement(pe.a,{component:oe.b,to:"/producto"},r.a.createElement(xa.a,{button:!0},r.a.createElement(wa.a,null,r.a.createElement(Ta.a,null)),r.a.createElement(Na.a,{primary:"Productos"}))),r.a.createElement(xa.a,{button:!0},r.a.createElement(wa.a,null,r.a.createElement(Ta.a,null)),r.a.createElement(Na.a,{primary:"Prendas"})))),r.a.createElement("main",{className:t.content},r.a.createElement(ka.d,null,r.a.createElement(ka.b,{exact:!0,path:"/"},"Bienvenidos Panel de administracion"),r.a.createElement(ka.b,{path:"/producto"},r.a.createElement(Ca,null))))))},Da=function(e){var a=e.tallavalues,t=e.quantity,n=e.prendasitems,c=e.setPrendasItems,l=e.savePrenda,o=e.setGenre,i=e.genre,s=function(e,a){var t=e.target,r=t.name,l=t.value,o=Object(g.a)({},n[a]);o[r]=l,n[a]=o,c(Object(v.a)(n))};return r.a.createElement(Ae.a,{display:"flex",flexDirection:"column"},r.a.createElement(Ne.a,{maxWidth:"sm"},r.a.createElement(Te.a,{container:!0},r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(Se.a,{component:"h4"}," REGISTRO DE PRENDAS")),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(ke.a,{fullWidth:!0},r.a.createElement(_e.a,{id:"select-genre"},"Seleccion Genero"),r.a.createElement(Le.a,{labelId:"select-genre",id:"genre",value:i,name:"genre",onChange:function(e){return o(e.target.value)}},r.a.createElement(De.a,{value:"mujer"},"Mujer"),r.a.createElement(De.a,{value:"hombre"},"Hombre")))),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(Se.a,{component:"h3",variant:"h5"},"Cantidad")),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(Re.a,{onChange:function(e){var a=e.target,t=a.name,r=a.value;if("itemsQuantity"===t){n=[];for(var l=0;l<r;l++)n.push({name:"",typetalla:""});c(Object(v.a)(n))}},variant:"outlined",required:!0,fullWidth:!0,defaultValue:t,id:"itemsQuantity",label:"Cantidad",name:"itemsQuantity"})))),r.a.createElement(Ne.a,{maxWidth:"lg"},r.a.createElement(Te.a,{container:!0},n.map((function(e,t){return console.log(e.typetalla),r.a.createElement(Ae.a,{display:"flex",key:t,m:2},r.a.createElement(Te.a,{item:!0,xs:6},r.a.createElement(Re.a,{onChange:function(e){return s(e,t)},name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name_".concat(t),label:"Nombre"})),r.a.createElement(Te.a,{item:!0,xs:6},r.a.createElement(ke.a,{fullWidth:!0},r.a.createElement(_e.a,{id:"select-type-talla_".concat(t)}," Talla"),r.a.createElement(Le.a,{fullWidth:!0,labelId:"select-type-talla_".concat(t),id:"typetalla_".concat(t),value:e.typetalla,name:"typetalla",onChange:function(e){return s(e,t)}},a.map((function(e,a){return r.a.createElement(De.a,{key:a,value:e.id},e.value)}))))))})),r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement(fe.a,{onClick:function(){return l()},variant:"contained",color:"primary"},"Guardar")))))},Ra=(Object(o.b)(null,null)((function(){var e=Object(n.useState)(0),a=Object(ce.a)(e,2),t=(a[0],a[1],Object(n.useState)("")),c=Object(ce.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)(1),s=Object(ce.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)([{name:"",typetalla:""}]),p=Object(ce.a)(d,2),f=p[0],E=p[1],g=Object(n.useState)([]),b=Object(ce.a)(g,2),h=b[0],O=b[1];Object(n.useEffect)((function(){Y.collection("tallas").get().then((function(e){var a=e.docs.map((function(e){return{id:e.id,value:e.data().name}}));console.log(a),O(a)}))}),[]);return r.a.createElement(Da,{quantity:m,setQuantity:u,prendasitems:f,setPrendasItems:E,tallavalues:h,savePrenda:function(){console.log("Save prenda");var e=Y.collection("genre").doc(l).collection("prendas"),a=Y.batch();f.forEach((function(t){var n=e.doc();a.set(n,t)})),a.commit()},setGenre:o,genre:l})})),function(e){return e.cart}),Aa=Object(ne.a)([Ra],(function(e){return e.cartitems.reduce((function(e,a){return e+a.quantity}),0)})),Ua=Object(ne.a)([Ra],(function(e){return e.cartitems.reduce((function(e,a){return e+a.quantity*a.price}),0)})),Pa=Object(ne.a)([Ra],(function(e){return e.cartitems})),Wa=Object(ne.a)([Ra],(function(e){return e.hidden})),Ga=(t(138),function(){return{type:C.TOGGLE_CART}}),Fa=function(e){return{type:C.ADDITEMS_TO_CART,payload:e}},Ha=t(237),Ma=t(236),qa=Object(ne.b)({itemCount:Aa}),za=Object(o.b)(qa,(function(e){return{toggleCart:function(){e(Ga())}}}))((function(e){var a=e.toggleCart,t=e.itemCount;return r.a.createElement(de.a,{onClick:a,"aria-label":"show 17 new notifications",color:"inherit"},r.a.createElement(Ma.a,{badgeContent:t,color:"secondary"},r.a.createElement(Ha.a,null)))})),Va=(t(139),Object(se.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7)}}}))),Ba=function(e){var a=e.image,t=e.name,n=e.price,c=e.quantity,l=Va();return r.a.createElement(Ae.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(da.a,{alt:t,src:a,className:l.large}),r.a.createElement(Se.a,{component:"h6"},t),r.a.createElement(Se.a,{component:"h6"},"$".concat(n)),r.a.createElement(Se.a,{component:"h6"},c))},Qa=Object(se.a)((function(e){return{cartdropdown:{position:"absolute",right:30,top:55,bgcolor:e.palette.common.white,display:"flex",flexDirection:"column"},root:{width:"100%",maxWidth:360},title:{fontWeight:"bold"}}})),Ya=Object(ka.i)(Object(o.b)((function(e){return{cartitems:Pa(e)}}))((function(e){var a=e.cartitems,t=e.history,n=e.dispatch,c=Qa();return r.a.createElement(Ae.a,{zIndex:"tooltip",width:350,bgcolor:"white",borderRadius:"borderRadius",border:1,className:c.cartdropdown,p:2},r.a.createElement(Ae.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Se.a,{fon:!0,component:"h5",className:c.title},"Image"),r.a.createElement(Se.a,{component:"h5",className:c.title},"Nombre"),r.a.createElement(Se.a,{component:"h5",className:c.title},"precio"),r.a.createElement(Se.a,{component:"h5",className:c.title},"Cant.")),a.length?a.map((function(e,a){return r.a.createElement(Ba,Object.assign({key:a},e))})):r.a.createElement("span",{className:"empty-message"},"No hay items"),r.a.createElement(Ae.a,{mt:2},r.a.createElement(fe.a,{fullWidth:!0,variant:"outlined",onClick:function(){n(Ga()),t.push("/checkout")}},"Go to Check out")))}))),Ja=t(238),$a=t(239),Za=t(9),Ka=t(110),Xa=Object(se.a)((function(e){return{grow:{flexGrow:1,marginLeft:e.spacing(7)},title:Object(z.a)({display:"none"},e.breakpoints.up("sm"),{display:"block",color:e.palette.common.black}),search:Object(z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Za.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Za.c)(e.palette.common.white,1)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(z.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(z.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),link:{marginLeft:e.spacing(3),color:e.palette.common.black}}})),et=Object(o.b)((function(e){return{currentUser:re(e),hidden:Wa(e)}}))((function(e){var a=e.currentUser,t=e.hidden,n=Xa();return r.a.createElement("div",null,r.a.createElement(me.a,{position:"fixed",color:"inherit"},r.a.createElement(ue.a,null,r.a.createElement(pe.a,{component:oe.b,to:"/"},r.a.createElement(Se.a,{className:n.title,variant:"h4",noWrap:!0},"LULU")),r.a.createElement("div",{className:n.grow},r.a.createElement(pe.a,{className:n.link,component:oe.b,to:"/mujer"}," Mujer"),r.a.createElement(pe.a,{className:n.link,component:oe.b,to:"/hombre"}," Hombre")),r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(Ja.a,null)),r.a.createElement(Ka.a,{placeholder:"Buscar\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:n.sectionDesktop},r.a.createElement(za,null),t?r.a.createElement(Ya,null):null,a?r.a.createElement(fe.a,{variant:"outlined",size:"small",color:"primary",onClick:function(){return Q.signOut()}},"Cerrar Sesion"):r.a.createElement(pe.a,{component:oe.b,to:"/signin"},r.a.createElement(de.a,{edge:"end","aria-label":"account of current user","aria-haspopup":"true",color:"inherit"},r.a.createElement($a.a,null)))))))})),at=function(e){return e.directory.DirectoryData},tt=Object(ne.a)([at],(function(e){return""!==e?(console.log(e),Object.keys(e.prendas).filter((function(e,a){return a<4})).map((function(a){return{id:e.name.toLowerCase(),name:e.prendas[a].name,image:e.prendas[a].image}}))):null})),nt=Object(ne.a)([function(e){return e.directory.newCollection}],(function(e){return e})),rt=(Object(ne.a)([at],(function(e){return e.landscape})),function(e){return e.shop}),ct=function(e){return Object(ne.a)([rt],(function(a){var t=a.dataShop.find((function(a){return a.genre===e}));return console.log(t),void 0===t?"":t.landscape}))},lt=function(e){return Object(ne.a)([rt],(function(a){var t=a.dataShop.find((function(a){return a.genre===e})),n=Object.keys(t.categories)[0],r=t.categories[n];return Object.keys(r).map((function(e){return Object(g.a)({},r[e],{categoryid:n})}))}))},ot=Object(ne.a)([rt],(function(e){return e.isFetching})),it=function(e){return function(a){a(function(e){return{type:T.FETCHING_COLLECTIONS_SUCCESS,payload:e}}(e))}},st=t(80),mt=t.n(st),ut=function(e){var a=e.image,t={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,pauseOnHover:!1,arrows:!1};return r.a.createElement("div",null,r.a.createElement(mt.a,t,r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:""}))))},dt=function(e){var a=e.className,t=e.style,n=e.onClick;return r.a.createElement("div",{className:a,style:Object(g.a)({},t,{display:"block",color:"black",marginRight:25,zIndex:5}),onClick:n})},pt=function(e){var a=e.className,t=e.style,n=e.onClick;return r.a.createElement("div",{className:a,style:Object(g.a)({},t,{display:"block",color:"black",marginLeft:25,zIndex:5,fontSize:15}),onClick:n})},ft=t(244),Et=t(240),gt=t(241),bt=t(242),ht=t(243),Ot=t(245),Ct=Object(se.a)((function(e){return{root:{maxWidth:545,margin:e.spacing(1)},media:{height:340},icon:{fontSize:30}}})),vt=Object(o.b)(null,(function(e){return{addItemsToCart:function(a){e(Fa(a))}}}))((function(e){var a,t=e.item,n=e.addItemsToCart,c=e.tagId,l=Ct(),o=Object(ka.g)(),i=Object(ka.h)();return""!==c?a=i.params.hasOwnProperty("collectionId")?i.url:"".concat(i.url,"/").concat(t.categoryid):(console.log("no tag"),console.log(t),a="".concat(t.genreid,"/").concat(t.categoryid)),console.log(i.params),r.a.createElement(Et.a,{className:l.root},r.a.createElement(gt.a,{onClick:function(){return o.push("".concat(a,"/").concat(encodeURI(t.name)))}},r.a.createElement(bt.a,{className:l.media,image:t.image[0]}),r.a.createElement(ht.a,null,r.a.createElement(Ae.a,{display:"flex",width:"auto"},r.a.createElement(Ae.a,{flexGrow:1},r.a.createElement(Se.a,{variant:"h5",component:"h2"},t.name),r.a.createElement(Se.a,{variant:"body2",component:"p"},"$".concat(t.price))),r.a.createElement(Ae.a,null,r.a.createElement(ft.a,{className:l.icon}))))),r.a.createElement(Ot.a,null,r.a.createElement(fe.a,{onClick:function(){n(t)},variant:"outlined",size:"small",color:"primary"},"Agregar al Carrito")))})),yt=function(e){var a=e.collections,t=e.tagId,n={dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:2,nextArrow:r.a.createElement(dt,null),prevArrow:r.a.createElement(pt,null)};return console.log({collections:a}),r.a.createElement(Ne.a,null,r.a.createElement(mt.a,n,a.map((function(e,a){return r.a.createElement(vt,{key:a,item:e,tagId:t})}))))},jt=Object(se.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"auto",transform:"translateZ(0)"},gridListTitle:{cursor:"Pointer"},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},icon:{color:"white"},image:{backgroundPosition:"center",backgroundSize:"200px 100px"}}})),xt=Object(ne.b)({categoryCollection:tt,newCollection:nt,imageHeader:ct("mujer")}),wt=Object(o.b)(xt,(function(e){return{loadDirectory:function(a){return e(function(e){return{type:N.LOAD_CATEGORY_CLOTHES,payload:e}}(a))},loadNewCollection:function(a){return e(function(e){return{type:N.LOAD_NEW_COLLECTION,payload:e}}(a))},loadallCollections:function(a){return e(it(a))}}}))((function(e){var a=e.categoryCollection,t=e.loadDirectory,c=e.loadNewCollection,l=e.newCollection,o=e.loadallCollections,i=e.imageHeader;console.log(l),console.log({imageHeader:i});var s=jt(),m=Object(ka.g)();Object(n.useEffect)((function(){console.log("Fetching Directory Data"),Y.collection("genre").doc("mujer").get().then((function(e){console.log(e.data()),t(e.data())})),Y.collection("collections").get().then((function(e){o(e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())})));var a=[];e.docs.forEach((function(e){Object.keys(e.data().categories).forEach((function(t){Object.keys(e.data().categories[t]).forEach((function(n){a.push(Object(g.a)({},e.data().categories[t][n],{categoryid:t,genreid:e.data().genre}))}))}))})),a.sort((function(e,a){return a.createdt.toDate()-e.createdt.toDate()})),c(a)}))}),[t,c]);return r.a.createElement(Ae.a,null,r.a.createElement(ut,{image:i}),r.a.createElement(Ae.a,{mt:6,mb:2,display:"flex",justifyContent:"center"},r.a.createElement(Se.a,{variant:"h5"},"COLECCIONES")),r.a.createElement(Ae.a,{p:2},r.a.createElement("div",{className:s.root},r.a.createElement(Je.a,{cellHeight:200,spacing:10,cols:4,className:s.gridList},a&&a.map((function(e,a){return r.a.createElement($e.a,{className:s.gridListTitle,key:a,cols:2,rows:2,onClick:function(){return function(e){console.log(e),m.push("".concat(e.id,"/").concat(e.name.toLowerCase()))}(e)}},r.a.createElement("img",{className:s.image,src:e.image,alt:""}),r.a.createElement(Ze.a,{title:e.name.toUpperCase(),titlePosition:"top",actionPosition:"left",className:s.titleBar}))}))))),r.a.createElement(Ae.a,{mt:4,mb:2,ml:2},r.a.createElement(Se.a,{variant:"h5"},"New Colecciones"),r.a.createElement(yt,{collections:l,tagId:""})))})),Nt=function(e){return r.a.createElement(wt,null)},It=t(246),St=Object(se.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridListTile:{cursor:"pointer"},icon:{color:"rgba(255, 255, 255, 0.54)"},title:{marginTop:e.spacing(5)}}})),Tt=Object(o.b)((function(e,a){return{collections:(t=a.tagId,Object(ne.a)([rt],(function(e){var a=e.dataShop.find((function(e){return e.genre===t}));return Object.keys(a.categories).map((function(e){var t=Object.keys(a.categories[e]).filter((function(e,a){return a<1})).map((function(t){return a.categories[e][t].image[0]}));return{name:e,image:t[0]}}))})))(e),suggestedCollection:lt(a.tagId)(e),imageHeader:ct(a.tagId)(e)};var t}))((function(e){var a=e.collections,t=e.suggestedCollection,n=e.imageHeader,c=e.tagId,l=Object(ka.g)(),o=Object(ka.h)(),i=St();return console.log(t),console.log(a),r.a.createElement(Ae.a,null,r.a.createElement(ut,{image:n}),r.a.createElement(Te.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(Te.a,{xs:12,item:!0,className:i.title},r.a.createElement(Se.a,{variant:"h5"}," COLECCIONES  ")),r.a.createElement(Ae.a,{height:"auto",width:"auto",m:4,display:"flex",justifyContent:"center"},r.a.createElement(Te.a,{xs:12,item:!0},r.a.createElement("div",{className:i.root},r.a.createElement(Je.a,{cols:3,cellHeight:400},a.map((function(e,a){return r.a.createElement($e.a,{key:a,className:i.gridListTile,onClick:function(){return l.push("".concat(o.url,"/").concat(e.name))}},r.a.createElement("img",{src:e.image,alt:e.name}),r.a.createElement(Ze.a,{title:e.name.toUpperCase(),actionIcon:r.a.createElement(de.a,{"aria-label":"info about ".concat(e.category),className:i.icon},r.a.createElement(It.a,null))}))}))))))),r.a.createElement(Ae.a,{mt:4,mb:2,ml:2},r.a.createElement(Se.a,{variant:"h5"}," Prendas Recomendadas  "),r.a.createElement(yt,{collections:t,tagId:c})))})),kt=Object(o.b)((function(e,a){return{itemscollection:(t=a.match.params.collectionId,n=a.tagId,Object(ne.a)([rt],(function(e){console.log(t),console.log(n);var a=e.dataShop.find((function(e){return e.genre===n}));return console.log(a),Object.keys(a.categories[t.toLowerCase()]).map((function(e){return a.categories[t.toLowerCase()][e]}))})))(e)};var t,n}))((function(e){var a=e.itemscollection;return r.a.createElement(Te.a,{container:!0,direction:"row"},a.map((function(e,a){return r.a.createElement(Te.a,{key:a,xs:12,sm:3,item:!0},r.a.createElement(vt,{key:a,item:e}))})))})),_t=t(247),Lt=Object(se.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:800,transform:"translateZ(0)"},productDetail:{margin:e.spacing(2)}}})),Dt=Object(o.b)((function(e,a){return{product:(t=a.match.params.collectionId,n=a.match.params.productId,r=a.tagId,Object(ne.a)([rt],(function(e){var a=e.dataShop.find((function(e){return e.genre===r}));return Object.keys(a.categories[t]).map((function(e){return a.categories[t][e]})).find((function(e){return e.name===n}))})))(e)};var t,n,r}),(function(e){return{addItemsToCart:function(a){e(Fa(a))}}}))((function(e){var a=e.product,t=e.addItemsToCart,c=Lt(),l=Object(n.useState)(""),o=Object(ce.a)(l,2),i=o[0],s=o[1];return r.a.createElement(Te.a,{container:!0},r.a.createElement(Te.a,{item:!0,xs:12,sm:8},r.a.createElement("div",{className:c.root},r.a.createElement(Je.a,{cellHeight:200,spacing:4,cols:4,className:c.gridList},a.image.map((function(e,a){return r.a.createElement($e.a,{key:a,cols:2,rows:2},r.a.createElement("img",{src:e,alt:""}))}))))),r.a.createElement(Te.a,{item:!0,xs:12,sm:4},r.a.createElement(Ae.a,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",mt:4},r.a.createElement(Ae.a,{display:"flex",justifyContent:"space-between",m:2},r.a.createElement(Se.a,{variant:"h5",component:"h6"},a.name),r.a.createElement(Se.a,{variant:"h5",component:"h6"},"$".concat(a.price))),r.a.createElement(Ae.a,{m:2},r.a.createElement(ke.a,{fullWidth:!0},r.a.createElement(_e.a,{id:"select-talla"},"Selecciona tu talla"),r.a.createElement(Le.a,{labelId:"select-talla",id:"talla",value:i,name:"talla",onChange:function(e){console.log(e.target),s(e.target.value)}},a.tallas.map((function(e,a){return r.a.createElement(De.a,{key:a,value:e},e)}))))),r.a.createElement(Ae.a,{m:2},r.a.createElement(fe.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return t(a)}},"A\xf1adir al carrito")),r.a.createElement(Ae.a,{m:2,display:"flex"},r.a.createElement(_t.a,null),r.a.createElement(Se.a,{component:"h6"},"Envio Gratis")))),r.a.createElement(Te.a,{item:!0,xs:12},r.a.createElement(Ae.a,{p:4,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(Se.a,{variant:"body1",component:"h5"},"Detalles del Producto"),r.a.createElement(Se.a,{variant:"body2",component:"p"},a.detail))),r.a.createElement(Te.a,{item:!0,xs:12},r.a.createElement(Ae.a,{mt:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},r.a.createElement(Se.a,{variant:"body1",component:"h5"},"RECOMENDACIONES"))))})),Rt=ha(Tt),At=ha(kt),Ut=ha(Dt),Pt=Object(o.b)((function(e){return{isLoading:ot(e)}}),null)((function(e){var a=e.isLoading,t=Object(ka.h)(),c=t.params.tagid;return Object(n.useEffect)((function(){console.log("rendering ShopPage"),console.log(c)}),[]),r.a.createElement(ka.d,null,r.a.createElement(ka.b,{exact:!0,path:t.url},r.a.createElement(Rt,{isLoading:a,tagId:c})),r.a.createElement(ka.b,{exact:!0,path:"".concat(t.url,"/:collectionId"),render:function(e){return r.a.createElement(At,Object.assign({isLoading:a,tagId:c},e))}}),r.a.createElement(ka.b,{path:"".concat(t.url,"/:collectionId/:productId"),render:function(e){return r.a.createElement(Ut,Object.assign({isLoading:a},e,{tagId:c}))}}))})),Wt=(t(155),Object(se.a)((function(e){return{large:{width:e.spacing(15),height:e.spacing(15)}}}))),Gt=Object(o.b)(null,(function(e){return{removeItem:function(a){return e({type:C.REMOVE_ITEM,payload:a})},addItem:function(a){return e(Fa(a))},clearItem:function(a){return e({type:C.CLEAR_ITEM,payload:a})}}}))((function(e){var a=e.cartItem,t=e.removeItem,n=e.addItem,c=e.clearItem,l=Wt(),o=a.image,i=a.name,s=a.price,m=a.quantity;return r.a.createElement("div",{className:"checkout-item"},r.a.createElement("div",{className:"image-container"},r.a.createElement(da.a,{alt:i,src:o,className:l.large})),r.a.createElement("span",{className:"name"},i),r.a.createElement("span",{className:"quantity"},r.a.createElement("div",{className:"arrow",onClick:function(){return t(a)}},"\u276e"),r.a.createElement("span",{className:"value"},m),r.a.createElement("div",{className:"arrow",onClick:function(){return n(a)}},"\u276f")),r.a.createElement("span",{className:"price"},s),r.a.createElement("div",{className:"remove-button",onClick:function(){return c(a)}},"\u2715"))})),Ft=(t(156),Object(ne.b)({cartitems:Pa,totalprice:Ua})),Ht=Object(o.b)(Ft)((function(e){var a=e.cartitems,t=e.totalprice;return console.log(a),r.a.createElement("div",{className:"checkout-page"},r.a.createElement("div",{className:"checkout-header"},r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Product")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Description")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Quantity")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Price")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Remove"))),a.map((function(e,a){return r.a.createElement(Gt,{key:a,cartItem:e})})),r.a.createElement("div",{className:"total"},"TOTAL: $",t))})),Mt=t(81),qt=t.n(Mt),zt=t(248),Vt=t(253),Bt=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Qt=function(e){var a=Bt(),t=Object(n.useState)({email:"",password:""}),c=Object(ce.a)(t,2),l=c[0],o=c[1],i=function(e){var a=e.target,t=a.name,n=a.value;o(Object(g.a)({},l,Object(z.a)({},t,n)))};return r.a.createElement(Ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ie.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(da.a,{className:a.avatar},r.a.createElement(qt.a,null)),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:i}),r.a.createElement(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:i}),r.a.createElement(zt.a,{control:r.a.createElement(Vt.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(fe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(e){e.preventDefault(),Q.signInWithEmailAndPassword(l.email,l.password),o({username:"",password:""})}},"Iniciar Sesion"),r.a.createElement(fe.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:Z},"Iniciar Sesion con cuenta de Google"),r.a.createElement(Te.a,{container:!0},r.a.createElement(Te.a,{item:!0,xs:!0},r.a.createElement(pe.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(Te.a,{item:!0},r.a.createElement(pe.a,{component:oe.b,to:"/signup",variant:"body2"},"No tienes cuenta? Registrate!"))))))},Yt=Object(se.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Jt=function(e){var a=Yt(),t=Object(n.useState)({displayName:"",email:"",password:"",repassword:""}),c=Object(ce.a)(t,2),l=c[0],o=c[1],i=function(e){var a=e.target,t=a.name,n=a.value;o(Object(g.a)({},l,Object(z.a)({},t,n)))},s=function(){var e=Object(q.a)(M.a.mark((function e(a){var t,n,r,c,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),l.password!==l.repassword){e.next=10;break}return t=l.email,n=l.password,r=l.displayName,e.next=5,Q.createUserWithEmailAndPassword(t,n);case 5:c=e.sent,o=c.user,K(o,{displayName:r,isAdmin:!0,tienda:"Lulu"}),e.next=11;break;case 10:alert("Contrase\xf1as no Coinciden");case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ie.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(da.a,{className:a.avatar},r.a.createElement(qt.a,null)),r.a.createElement(Se.a,{component:"h1",variant:"h5"},"Registro"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(Te.a,{container:!0,spacing:2},r.a.createElement(Te.a,{item:!0,xs:12,sm:6},r.a.createElement(Re.a,{onChange:i,autoComplete:"fname",name:"displayName",variant:"outlined",required:!0,fullWidth:!0,id:"displayName",label:"Nombre",autoFocus:!0})),r.a.createElement(Te.a,{item:!0,xs:12},r.a.createElement(Re.a,{onChange:i,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(Te.a,{item:!0,xs:12},r.a.createElement(Re.a,{onChange:i,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),r.a.createElement(Te.a,{item:!0,xs:12},r.a.createElement(Re.a,{onChange:i,variant:"outlined",required:!0,fullWidth:!0,name:"repassword",label:"Re-Password",type:"password",id:"repassword",autoComplete:"current-password"})),r.a.createElement(Te.a,{item:!0,xs:12},r.a.createElement(zt.a,{control:r.a.createElement(Vt.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),r.a.createElement(fe.a,{onClick:s,fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Registrar"),r.a.createElement(Te.a,{container:!0,justify:"flex-end"},r.a.createElement(Te.a,{item:!0},r.a.createElement(pe.a,{component:oe.b,to:"/signin",variant:"body2"},"Ya tienes una cuenta? Inicia sesion."))))))},$t=t(249),Zt=t(250),Kt=Object(se.a)((function(e){return{footer:{marginTop:e.spacing(5)}}})),Xt=function(){var e=Kt();return r.a.createElement("footer",null,r.a.createElement(Ne.a,{maxWidth:"md",className:e.footer},r.a.createElement(Se.a,{component:"h5"},"Suscribete a nuestro newsletter "),r.a.createElement(Re.a,{size:"small",id:"outlined-basic",label:"Introduce tu Email",variant:"standard"}),r.a.createElement(Ae.a,{m:2},r.a.createElement(Se.a,{component:"h5"},"Cartagena | Colombia ")),r.a.createElement(Ae.a,{m:2,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement($t.a,null),r.a.createElement(Zt.a,null)),r.a.createElement(Se.a,{component:"h6"},"2020 LULU todos los derechos reservados")))},en=Object(o.b)((function(e){return{currentUser:re(e)}}),(function(e){return{setCurrentUser:function(a){e(function(e){return{type:b,payload:e}}(a))}}}))((function(e){var a=e.setCurrentUser,t=e.currentUser;return Object(n.useEffect)((function(){console.log("APP home"),Q.onAuthStateChanged(function(){var e=Object(q.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return n=K(t),e.next=4,n;case 4:e.sent.onSnapshot((function(e){a(Object(g.a)({id:e.id},e.data()))})),e.next=9;break;case 8:a(t);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[a]),r.a.createElement("div",null,t&&t.isAdmin?r.a.createElement(La,null):r.a.createElement(oe.a,{basename:"/luluecommerce"},r.a.createElement(et,null),r.a.createElement(ka.d,null,r.a.createElement(ka.b,{exact:!0,path:"/"},r.a.createElement(Nt,null)),r.a.createElement(ka.b,{exact:!0,path:"/signin",render:function(){return t?r.a.createElement(ka.a,{to:"/"}):r.a.createElement(Qt,null)}}),r.a.createElement(ka.b,{exact:!0,path:"/signup",render:function(){return t?r.a.createElement(ka.a,{to:"/"}):r.a.createElement(Jt,null)}}),r.a.createElement(ka.b,{exact:!0,path:"/checkout"},r.a.createElement(Ht,null)),r.a.createElement(ka.b,{path:"/:tagid"},r.a.createElement(Pt,null))),r.a.createElement(Xt,null)))}));t(159),t(160),t(161);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:G},r.a.createElement(i.a,{persistor:F},r.a.createElement(en,null)))),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.4d1d7789.chunk.js.map